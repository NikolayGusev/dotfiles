{
  /////////////////////////////////
  // vim and editing expierience //
  /////////////////////////////////
  "vscode-neovim.neovimExecutablePaths.win32": "C:\\Program Files\\Neovim\\bin\\nvim.exe",
  "vscode-neovim.neovimExecutablePaths.linux": "/usr/local/Cellar/neovim/0.8.0/bin/nvim",
  "editor.cursorSurroundingLines": 50,

  // General visiblitity
  "editor.renderWhitespace": "none",
  "window.zoomLevel": 1,
  "workbench.activityBar.visible": false,
  "editor.minimap.enabled": false,
  "workbench.editor.tabCloseButton": "off",
  "window.menuBarVisibility": "toggle",
  "extensions.ignoreRecommendations": false,
  "breadcrumbs.enabled": false,

  // General usability
  "explorer.autoReveal": false,
  "workbench.editor.enablePreviewFromQuickOpen": false,
  "terminal.integrated.gpuAcceleration": "off",
  "editor.copyWithSyntaxHighlighting": false,
  "editor.formatOnSave": true,
  "diffEditor.renderSideBySide": false,
  "update.enableWindowsBackgroundUpdates": false, // Update manually
  "update.mode": "none", // Update manually
  "telemetry.enableTelemetry": false,
  "telemetry.enableCrashReporter": false,
  "telemetry.telemetryLevel": "off",

  // Never use pick window
  "editor.gotoLocation.multipleDeclarations": "goto",
  "editor.gotoLocation.multipleDefinitions": "goto",
  "editor.gotoLocation.multipleImplementations": "goto",
  "editor.gotoLocation.multipleReferences": "goto",
  "editor.gotoLocation.multipleTypeDefinitions": "goto",

  // TODO: remove this?
  // "terminal.integrated.commandsToSkipShell": [
  // "-workbench.action.terminal.paste"
  // ],

  ///////////
  // Theme //
  ///////////

  "editor.fontFamily": "Fira Code",
  "editor.fontLigatures": true,

  "workbench.iconTheme": "material-icon-theme",

  // Colors:
  "workbench.colorTheme": "Solarized Light",
  "workbench.colorCustomizations": {
    "editor.selectionBackground": "#ff7b00a1", // Current SELECTED text, required so that I can see what is yanked by vim

    // Make leap usable in VSCode. W/o this it is hard to see marks on unused functions and objects, etc.
    "editorUnnecessaryCode.opacity": "#000000ff",
    "editorUnnecessaryCode.border": "#aaaaaa",

    "editorIndentGuide.activeBackground": "#e7b8ff77",
    "editorIndentGuide.background": "#00000011",

    "editorStickyScroll.background":"#FFFFDDFF"
  },

  // magit better colors
  "editor.tokenColorCustomizations": {
    "textMateRules": [
      {
        "scope": "markup.deleted",
        "settings": {
          "foreground": "#FF0000",
          "fontStyle": "bold"
        }
      },
      {
        "scope": "markup.inserted",
        "settings": {
          "foreground": "#2ccc00",
          "fontStyle": "bold"
        }
      }
    ]
  },

  /////////
  // Git //
  /////////
  "git.autofetch": true,
  "git.confirmSync": false,
  "git.autofetchPeriod": 10,
  "git.ignoreLegacyWarning": true,
  "magit.display-buffer-function": "same-column",

  ////////////////
  // Extensions //
  ////////////////
  "numberedBookmarks.navigateThroughAllFiles": "replace",

  "whichkey.transient": {
    "error": {
      "title": "Error transient",
      "bindings": [
        {
          "key": "N",
          "name": "Previous error",
          "command": "editor.action.marker.prev"
        },
        {
          "key": "n",
          "name": "Next error",
          "command": "editor.action.marker.next"
        },
        {
          "key": "p",
          "name": "Previous error",
          "command": "editor.action.marker.prev"
        }
      ]
    },
    "symbol": {
      "title": "Highlight symbol transient",
      "bindings": [
        {
          "key": "p",
          "name": "Previous occurrence",
          "command": "editor.action.wordHighlight.prev"
        },
        {
          "key": "N",
          "name": "Previous occurrence",
          "command": "editor.action.wordHighlight.prev"
        },
        {
          "key": "n",
          "name": "Next occurrence",
          "command": "editor.action.wordHighlight.next"
        },
        {
          "key": "/",
          "name": "Search in a project with a selection",
          "commands": [
            "editor.action.addSelectionToNextFindMatch",
            "workbench.action.findInFiles"
          ]
        }
      ]
    },
    "lineMoving": {
      "title": "Line moving transient",
      "bindings": [
        {
          "key": "J",
          "name": "Move lines down",
          "command": "editor.action.moveLinesDownAction"
        },
        {
          "key": "K",
          "name": "Move lines up",
          "command": "editor.action.moveLinesUpAction"
        }
      ]
    },
    "frameZooming": {
      "title": "Frame zooming transient",
      "bindings": [
        {
          "key": "=",
          "name": "Zoom in",
          "command": "workbench.action.zoomIn"
        },
        {
          "key": "+",
          "name": "Zoom in",
          "command": "workbench.action.zoomIn"
        },
        {
          "key": "-",
          "name": "Zoom out",
          "command": "workbench.action.zoomOut"
        },
        {
          "key": "0",
          "name": "Reset zoom",
          "command": "workbench.action.zoomReset"
        }
      ]
    },
    "fontZooming": {
      "title": "Front zooming transient",
      "bindings": [
        {
          "key": "=",
          "name": "Zoom in",
          "command": "editor.action.fontZoomIn"
        },
        {
          "key": "+",
          "name": "Zoom in",
          "command": "editor.action.fontZoomIn"
        },
        {
          "key": "-",
          "name": "Zoom out",
          "command": "editor.action.fontZoomOut"
        },
        {
          "key": "0",
          "name": "Reset zoom",
          "command": "editor.action.fontZoomReset"
        }
      ]
    },
    "imageZooming": {
      "title": "Image zooming transient",
      "bindings": [
        {
          "key": "=",
          "name": "Zoom in",
          "command": "imagePreview.zoomIn"
        },
        {
          "key": "+",
          "name": "Zoom in",
          "command": "imagePreview.zoomIn"
        },
        {
          "key": "-",
          "name": "Zoom out",
          "command": "imagePreview.zoomOut"
        }
      ]
    },
    "smartExpand": {
      "title": "Smart expand transient",
      "bindings": [
        {
          "key": "v",
          "name": "Grow selection",
          "command": "editor.action.smartSelect.grow"
        },
        {
          "key": "V",
          "name": "Shrink selection",
          "command": "editor.action.smartSelect.shrink"
        }
      ]
    },
    "horizontalResize": {
      "title": "Horizontal resize transient",
      "bindings": [
        {
          "key": "g",
          "name": "Grow",
          "command": "workbench.action.increaseViewWidth"
        },
        {
          "key": "s",
          "name": "Shrink",
          "command": "workbench.action.decreaseViewWidth"
        }
      ]
    },
    "verticalResize": {
      "title": "Vertical resize transient",
      "bindings": [
        {
          "key": "g",
          "name": "Grow",
          "command": "workbench.action.increaseViewHeight"
        },
        {
          "key": "s",
          "name": "Shrink",
          "command": "workbench.action.decreaseViewHeight"
        }
      ]
    },
    "searchInFiles": {
      "title": "Search in files",
      "bindings": [
        {
          "key": "n",
          "name": "Next",
          "command": "search.action.focusNextSearchResult"
        },
        {
          "key": "p",
          "name": "Previous",
          "command": "search.action.focusPreviousSearchResult"
        },
        {
          "key": "N",
          "name": "Previous",
          "command": "search.action.focusPreviousSearchResult"
        }
      ]
    },
    "gitChangesInFile": {
      "title": "Navigate git changes in file",
      "bindings": [
        {
          "key": "n",
          "name": "Next",
          "command": "workbench.action.editor.nextChange"
        },
        {
          "key": "p",
          "name": "Previous",
          "command": "workbench.action.editor.previousChange"
        },
        {
          "key": "N",
          "name": "Previous",
          "command": "workbench.action.editor.previousChange"
        }
      ]
    }
  },

  // vspacecode
  // default bindings here: https://github.com/VSpaceCode/vscode-which-key/blob/cb073ed69491d76501cb1042c060c3206a806a19/package.json
  "vspacecode.bindingOverrides": [
    {
      "keys": " ",
      "name": "+Find file in project",
      "type": "command",
      "command": "workbench.action.quickOpen"
    },
    {
      "keys": ",",
      "name": "Commands",
      "type": "command",
      "command": "workbench.action.showCommands"
    },
    // Show active file in tree/explorer view
    {
      "keys": "f.T",
      "position": -1
    },
    // Was toogle file panel
    {
      "keys": "f.t",
      "position": -1
    },
    // was Open file/folder (creates new file usually, so its easier to use space-f-n instead)
    {
      "keys": "f.f",
      "name": "Show active file in tree/explorer view",
      "type": "command",
      "command": "workbench.files.action.showActiveFileInExplorer"
    },
    {
      "keys": "g.d",
      "name": "Diff",
      "type": "command",
      "command": "git.openChange"
    },
    {
      "keys": "g.t",
      "name": "Timeline",
      "type": "command",
      "command": "timeline.focus"
    },
    {
      "keys": "g.S",
      "name": "Search commits",
      "type": "command",
      "command": "gitlens.showCommitSearch"
    },
    {
      "keys": "g.b",
      "name": "Toggle blame",
      "type": "command",
      "command": "gitlens.toggleFileBlame"
    },
    {
      "keys": "g.c",
      "name": "Show commits for selection",
      "type": "command",
      "command": "gitlens.showCommitsInView"
    },
    {
      "keys": "g.g",
      "name": "Git Graph",
      "type": "command",
      "command": "git-graph.view"
    },
    {
      "keys": "g.n",
      "name": "Next change",
      "type": "commands",
      "commands": [
        "workbench.action.editor.nextChange",
        "whichkey.showTransient"
      ],
      "args": [null, "whichkey.transient.gitChangesInFile"]
    },
    {
      "keys": "g.p",
      "name": "Prev change",
      "type": "commands",
      "commands": [
        "workbench.action.editor.previousChange",
        "whichkey.showTransient"
      ],
      "args": [null, "whichkey.transient.gitChangesInFile"]
    },
    {
      "keys": "g.l",
      "name": "Show commits for line",
      "type": "command",
      "command": "gitlens.showLineHistoryView"
    },
    // f => *diff   *vscode built in file changes history
    {
      "keys": "g.f",
      "name": "Show commits for file",
      "type": "command",
      "command": "gitlens.openFileHistory"
    },
    // initialize repo
    {
      "keys": "g.i",
      "position": -1
    },
    // magit dispatch
    {
      "keys": "g.m",
      "position": -1
    },
    // Unstage changes
    {
      "keys": "g.U",
      "position": -1
    },
    {
      "keys": "r.r",
      "name": "Replace",
      "type": "command",
      "command": "editor.action.startFindReplaceAction"
    },
    {
      "keys": "r.R",
      "name": "Replace",
      "type": "command",
      "command": "editor.action.startFindReplaceAction"
    },

    // {
    //         "keys": "s.F",
    //         "name": "Search in files with a selection",
    //         "type": "commands",
    //         "commands": [
    //             "editor.action.addSelectionToNextFindMatch",
    //             "workbench.action.findInFiles",
    //             "workbench.action.focusActiveEditorGroup",
    //             "whichkey.showTransient"
    //         ],
    //         "args": [null, null, null, "whichkey.transient.searchInFiles"]
    //     }

    {
      "keys": "r.b",
      "position": -1
    },
    {
      "keys": "r.s",
      "position": -1
    },
    {
      "keys": "s.n",
      "name": "Next search result",
      "type": "commands",
      "commands": [
        "search.action.focusNextSearchResult",
        "whichkey.showTransient"
      ],
      "args": [null, "whichkey.transient.searchInFiles"]
    },
    {
      "keys": "s.N",
      "name": "Previous search result",
      "type": "commands",
      "commands": [
        "search.action.focusPreviousSearchResult",
        "whichkey.showTransient"
      ],
      "args": [null, "whichkey.transient.searchInFiles"]
    },
    // was Search in a project
    {
      "keys": "s.p",
      "name": "Previous search result",
      "type": "commands",
      "commands": [
        "search.action.focusPreviousSearchResult",
        "whichkey.showTransient"
      ],
      "args": [null, "whichkey.transient.searchInFiles"]
    },
    {
      "keys": "s.f",
      "name": "Search in files",
      "type": "command",
      "command": "workbench.action.findInFiles"
    },
    {
      "keys": "s.F",
      "name": "Search in files with a selection",
      "type": "commands",
      "commands": [
        "editor.action.addSelectionToNextFindMatch",
        "workbench.action.findInFiles",
        "workbench.action.focusActiveEditorGroup",
        "whichkey.showTransient"
      ],
      "args": [null, null, null, "whichkey.transient.searchInFiles"]
    },

    // move toggles to root "t" instead of "T"
    {
      "keys": "T",
      "position": -1
    },
    {
      "keys": "t.t",
      "name": "Terminal command",
      "type": "command",
      "command": "workbench.action.terminal.runRecentCommand"
    },
    {
      "keys": "t.T",
      "name": "Toggle terminal",
      "type": "command",
      "command": "workbench.action.terminal.toggleTerminal"
    },
//    {
//      "keys": "t.T",
//      "name": "Toggle tab visibility",
//      "type": "command",
//      "command": "workbench.action.toggleTabsVisibility"
//    },
    {
      "keys": "t.o",
      "name": "Toggle output",
      "type": "command",
      "command": "workbench.action.output.toggleOutput"
    },
    {
      "keys": "t.p",
      "name": "Toggle problems",
      "type": "command",
      "command": "workbench.actions.view.problems"
    },
    {
      "keys": "t.d",
      "name": "Toggle debug",
      "type": "command",
      "command": "workbench.debug.action.toggleRepl"
    },
    {
      "keys": "t.g",
      "name": "Toggle gitlens",
      "type": "commands",
      "commands": ["gitlens.toggleCodeLens", "gitlens.toggleLineBlame"]
    },
    {
      "keys": "t.s",
      "name": "Toggle sticky scroll",
      "type": "command",
      "command": "editor.action.toggleStickyScroll"
    },
    {
      "name": "Toggle side bar visibility",
      "keys": "t.S",
      "type": "command",
      "command": "workbench.action.toggleSidebarVisibility"
    },
    {
      "keys": "t.w",
      "name": "Toggle leading/trailing whitespace differences",
      "type": "command",
      "command": "toggle.diff.ignoreTrimWhitespace"
    },
    {
      "keys": "t.W",
      "name": "Toggle render whitespaces",
      "type": "command",
      "command": "editor.action.toggleRenderWhitespace"
    },
    {
      "keys": "t.R",
      "name": "Toggle word wrap",
      "type": "command",
      "command": "editor.action.toggleWordWrap"
    },
    // standard things moved "T" -> "t"
    {
      "keys": "t.j",
      "name": "Toggle panel visibility",
      "type": "command",
      "command": "workbench.action.togglePanel"
    },
    {
      "keys": "t.f",
      "name": "Toggle full screen",
      "type": "command",
      "command": "workbench.action.toggleFullScreen"
    },
    {
      "keys": "t.m",
      "name": "Toggle maximized panel",
      "type": "command",
      "command": "workbench.action.toggleMaximizedPanel"
    },
    {
      "keys": "t.z",
      "name": "Toggle zen mode",
      "type": "command",
      "command": "workbench.action.toggleZenMode"
    },
    {
      "keys": "w.h",
      "name": "Change window horizontal size",
      "type": "command",
      "command": "whichkey.showTransient",
      "args": "whichkey.transient.horizontalResize"
    },
    {
      "keys": "w.v",
      "name": "Change window vertical size",
      "type": "command",
      "command": "whichkey.showTransient",
      "args": "whichkey.transient.verticalResize"
    },
    {
      "keys": "w.j",
      "name": "Split editor below",
      "type": "command",
      "command": "workbench.action.splitEditorDown"
    },
    {
      "keys": "w.l",
      "name": "Split editor right",
      "type": "command",
      "command": "workbench.action.splitEditor"
    },
    // split below
    {
      "keys": "w.-",
      "position": -1
    },
    // split right
    {
      "keys": "w./",
      "position": -1
    },
    // shrink window
    {
      "keys": "w.[",
      "position": -1
    },
    // grow window
    {
      "keys": "w.]",
      "position": -1
    },
    // close window
    {
      "keys": "w.d",
      "position": -1
    },
    // focus window up
    {
      "keys": "w.k",
      "position": -1
    },
    // split window below
    {
      "keys": "w.s",
      "position": -1
    },
    // focus next window
    {
      "keys": "w.w",
      "position": -1
    },
    // focus previous window
    {
      "keys": "w.W",
      "position": -1
    }
  ],

  "javascript-repl.coverageTimes": false,

  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "eslint.validate": [
    "javascript",
    "javascriptReact",
    "typescript",
    "typescriptReact"
  ],
  "[javascript]": {
    "editor.formatOnSave": false,
    "editor.defaultFormatter": "vscode.typescript-language-features"
  },
  "[javascriptReact]": {
    "editor.formatOnSave": false
  },
  "[typescript]": {
    "editor.formatOnSave": false,
    "editor.defaultFormatter": "dbaeumer.vscode-eslint"
  },
  "[typescriptReact]": {
    "editor.formatOnSave": false,
    "editor.defaultFormatter": "dbaeumer.vscode-eslint"
  },

  "typescript.preferences.quoteStyle": "single",
  "typescript.preferences.importModuleSpecifier": "relative",
  "javascript.preferences.importModuleSpecifier": "relative",
  "typescript.preferences.useAliasesForRenames": false,

  "command-runner.showRunCommandInEditorContextMenu": false,
  "command-runner.terminal.autoClear": false,
  "command-runner.terminal.autoFocus": false,
  "command-runner.terminal.name": "runCommand",
  "command-runner.commands": {
    "assume unchanged": "git update-index --assume-unchanged ${file}",
    "assume unchanged list": "git ls-files -v | grep '^[[:lower:]]'",
    "no-assume unchanged": "git update-index --no-assume-unchanged ${file}",
    "no-assume unchanged all": "git ls-files -v | grep '^[a-z]' | cut -c3- | xargs git update-index --no-assume-unchanged --",
    "delete merged branches": "git branch --merged origin/master | xargs git branch -d",
    "checkout penultimate version": "git checkout HEAD~1 -- ${file}",
    "checkout previous version...": "git checkout ${input} -- ${file}",

    // Those seem to be broken
    "checkout {commit} {filename} by selection": "git checkout `echo ${selectedTextList} | cut -d' ' -f1` -- `echo ${selectedTextList} | cut -d' ' -f2`",
    "revert changes {commit} {filename} by selection": "git show `echo ${selectedTextList} | cut -d' ' -f1` -- `echo ${selectedTextList} | cut -d' ' -f2` | git apply -R",

    "checkout {commit filename} by input": "git checkout ${input}",
    "revert changes {commit filename} by input": "git show ${input} | git apply -R",

    // "revert changes {commit} {filename} by selection": "git show `echo ${selectedTextList} | cut -d' ' -f1` -- `echo ${selectedTextList} | cut -d' ' -f2` | git apply -R",
    // "revert changes {commit} {filename} by input2": "git show `echo ${input} | cut -d' ' -f1` -- `echo ${input} | cut -d' ' -f2` | git apply -R",
    // "revert changes {commit} {filename} by input": "git show ${input} | git apply -R",
    // "revert changes from current patch file": "git apply -R '${file}'",

    "echo selected": "echo ${selectedTextList}",
    "double input test": "echo ${input} ${input} ${input}"
  },

  // gitlens
  "gitlens.currentLine.enabled": false,
  "gitlens.hovers.currentLine.over": "line",
  "gitlens.codeLens.scopes": [],
  "gitlens.statusBar.alignment": "left",
  "gitlens.defaultDateFormat": null,
  "gitlens.defaultTimeFormat": null,
  "gitlens.showWelcomeOnInstall": false,
  "gitlens.showWhatsNewAfterUpgrades": false,
  "gitlens.codeLens.enabled": false,
  "gitlens.statusBar.command": "gitlens.revealCommitInView",
  "gitlens.hovers.enabled": false,
  "gitlens.telemetry.enabled": false,
  "workbench.editorAssociations": {
    "git-rebase-todo": "default" // disable gitlens rebase i dialog
  },

  "vsCodeGitWorktrees.move.openNewVscodeWindow": false,

  // Don't format settings.json automatically. This loses intellisense though.
  "files.associations": {
    "**/settings.json": "plaintext"
  },
}
